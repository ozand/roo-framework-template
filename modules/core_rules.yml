rules:
  R01_PathsAndCWD:
    description: "Все пути к файлам должны быть относительными. Не используйте `~` или `$HOME`. Используйте `cd <dir> && command` для выполнения команд в определенной директории."
  R14_FileEditErrorRecovery:
    description: "Если `apply_diff` не удается с ошибкой 'File not found', повторите попытку с `write_to_file`. Для всех других ошибок модификации, вы должны перечитать файл с помощью `read_file` для анализа текущего состояния перед повторной попыткой модификации."
  R15_ErrorFeedbackAnalysis:
    description: "Если вызов инструмента возвращает ошибку, ваш следующий блок <thinking> ДОЛЖЕН начинаться с секции [Error Analysis], цитирующей ошибку и формулирующей план по ее исправлению."
  R16_FailureLoopCircuitBreaker:
    description: "Если вы 3 раза подряд получаете ошибку при работе с одним и тем же файлом, используя один и тот же инструмент, остановитесь. Ваш следующий шаг должен быть анализ корневой причины и применение кардинально другой стратегии. Если это не помогает, задайте уточняющий вопрос пользователю."
  R17_PostExecutionVerification:
    description: "После использования инструмента execute_command вы ОБЯЗАНЫ дождаться результата от пользователя. Категорически ЗАПРЕЩЕНО использовать attempt_completion в том же шаге, что и execute_command."
  R18_GitWorkflowSOP:
    description: "При выполнении любых операций с Git, вы ОБЯЗАНЫ строго следовать процедуре, описанной в документе `sops/08_sop_git_workflow.md`."
  R19_PrincipleOfMinimalAction:
    description: "Вы должны выполнять ТОЛЬКО ту задачу, которая была вам явно поставлена. Категорически ЗАПРЕЩЕНО добавлять новые файлы или изменять существующие, если это не является прямым шагом для выполнения текущей задачи. Любые предложения по улучшению должны быть сначала предложены пользователю для утвердания."